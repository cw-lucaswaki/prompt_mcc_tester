2025-04-02 15:47:37,922 - root - INFO - Logging configured for MCC Classifier
2025-04-02 15:47:37,922 - mcc_classifier.agent_factory - INFO - Creating all agents
2025-04-02 15:47:37,976 - mcc_classifier.agent.Rafa - INFO - OpenAI client initialized successfully.
2025-04-02 15:47:37,987 - mcc_classifier.agent.Matheus - INFO - OpenAI client initialized successfully.
2025-04-02 15:47:38,015 - mcc_classifier.agent.Waki - INFO - Loaded 981 MCC codes from CSV file
2025-04-02 15:47:38,029 - mcc_classifier.agent.Waki - INFO - OpenAI client initialized successfully.
2025-04-02 15:47:38,029 - mcc_classifier.evaluator - INFO - Initialized MCC evaluator with 3 agents
2025-04-02 15:47:38,029 - mcc_classifier.evaluator - INFO - Starting evaluation with input file: data/sample_merchants.csv
2025-04-02 15:47:38,029 - mcc_classifier.data_handler - INFO - Reading data from data/sample_merchants.csv
2025-04-02 15:47:38,035 - mcc_classifier.data_handler - INFO - Successfully read 10 rows from data/sample_merchants.csv
2025-04-02 15:47:38,035 - mcc_classifier.evaluator - INFO - Read 10 merchants from input file
2025-04-02 15:47:38,035 - mcc_classifier.agent.Rafa - INFO - Classifying merchant: Walmart Supercentre
2025-04-02 15:47:38,036 - mcc_classifier.agent.Rafa - INFO - Sending request to OpenAI for merchant: Walmart Supercentre
2025-04-02 15:47:43,218 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:47:43,224 - mcc_classifier.agent.Matheus - INFO - Classifying merchant: Walmart Supercentre
2025-04-02 15:47:43,224 - mcc_classifier.agent.Matheus - INFO - Performing tier1 classification for: Walmart Supercentre
2025-04-02 15:47:44,483 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:47:44,484 - mcc_classifier.agent.Matheus - ERROR - Error in tier1 classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:47:44,484 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: Walmart Supercentre
2025-04-02 15:47:44,484 - mcc_classifier.agent.Waki - INFO - Classifying merchant: Walmart Supercentre
2025-04-02 15:47:44,484 - mcc_classifier.agent.Waki - INFO - Sending request to GPT for merchant: Walmart Supercentre
2025-04-02 15:47:52,258 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:47:52,259 - mcc_classifier.agent.Rafa - INFO - Classifying merchant: Amazon
2025-04-02 15:47:52,259 - mcc_classifier.agent.Rafa - INFO - Sending request to OpenAI for merchant: Amazon
2025-04-02 15:47:54,548 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:47:54,550 - mcc_classifier.agent.Matheus - INFO - Classifying merchant: Amazon
2025-04-02 15:47:54,550 - mcc_classifier.agent.Matheus - INFO - Performing tier1 classification for: Amazon
2025-04-02 15:47:54,773 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:47:54,773 - mcc_classifier.agent.Matheus - ERROR - Error in tier1 classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:47:54,773 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: Amazon
2025-04-02 15:47:54,774 - mcc_classifier.agent.Waki - INFO - Classifying merchant: Amazon
2025-04-02 15:47:54,774 - mcc_classifier.agent.Waki - INFO - Sending request to GPT for merchant: Amazon
2025-04-02 15:48:05,572 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:05,579 - mcc_classifier.agent.Rafa - INFO - Classifying merchant: Starbucks Coffee
2025-04-02 15:48:05,579 - mcc_classifier.agent.Rafa - INFO - Sending request to OpenAI for merchant: Starbucks Coffee
2025-04-02 15:48:10,971 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:10,982 - mcc_classifier.agent.Matheus - INFO - Classifying merchant: Starbucks Coffee
2025-04-02 15:48:10,982 - mcc_classifier.agent.Matheus - INFO - Performing tier1 classification for: Starbucks Coffee
2025-04-02 15:48:11,304 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:48:11,305 - mcc_classifier.agent.Matheus - ERROR - Error in tier1 classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:48:11,305 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: Starbucks Coffee
2025-04-02 15:48:11,305 - mcc_classifier.agent.Waki - INFO - Classifying merchant: Starbucks Coffee
2025-04-02 15:48:11,305 - mcc_classifier.agent.Waki - INFO - Sending request to GPT for merchant: Starbucks Coffee
2025-04-02 15:48:19,305 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:19,306 - mcc_classifier.agent.Rafa - INFO - Classifying merchant: Best Buy
2025-04-02 15:48:19,306 - mcc_classifier.agent.Rafa - INFO - Sending request to OpenAI for merchant: Best Buy
2025-04-02 15:48:23,044 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:23,045 - mcc_classifier.agent.Matheus - INFO - Classifying merchant: Best Buy
2025-04-02 15:48:23,045 - mcc_classifier.agent.Matheus - INFO - Performing tier1 classification for: Best Buy
2025-04-02 15:48:23,386 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:48:23,387 - mcc_classifier.agent.Matheus - ERROR - Error in tier1 classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:48:23,387 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: Best Buy
2025-04-02 15:48:23,387 - mcc_classifier.agent.Waki - INFO - Classifying merchant: Best Buy
2025-04-02 15:48:23,388 - mcc_classifier.agent.Waki - INFO - Sending request to GPT for merchant: Best Buy
2025-04-02 15:48:27,082 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:27,094 - mcc_classifier.agent.Rafa - INFO - Classifying merchant: Chevron Gas Station
2025-04-02 15:48:27,094 - mcc_classifier.agent.Rafa - INFO - Sending request to OpenAI for merchant: Chevron Gas Station
2025-04-02 15:48:30,305 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:30,306 - mcc_classifier.agent.Matheus - INFO - Classifying merchant: Chevron Gas Station
2025-04-02 15:48:30,306 - mcc_classifier.agent.Matheus - INFO - Performing tier1 classification for: Chevron Gas Station
2025-04-02 15:48:30,955 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:48:30,955 - mcc_classifier.agent.Matheus - ERROR - Error in tier1 classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:48:30,955 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: Chevron Gas Station
2025-04-02 15:48:30,955 - mcc_classifier.agent.Waki - INFO - Classifying merchant: Chevron Gas Station
2025-04-02 15:48:30,955 - mcc_classifier.agent.Waki - INFO - Sending request to GPT for merchant: Chevron Gas Station
2025-04-02 15:48:36,977 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:36,978 - mcc_classifier.agent.Rafa - INFO - Classifying merchant: CVS Pharmacy
2025-04-02 15:48:36,978 - mcc_classifier.agent.Rafa - INFO - Sending request to OpenAI for merchant: CVS Pharmacy
2025-04-02 15:48:40,244 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:40,244 - mcc_classifier.agent.Matheus - INFO - Classifying merchant: CVS Pharmacy
2025-04-02 15:48:40,244 - mcc_classifier.agent.Matheus - INFO - Performing tier1 classification for: CVS Pharmacy
2025-04-02 15:48:40,511 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:48:40,512 - mcc_classifier.agent.Matheus - ERROR - Error in tier1 classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:48:40,512 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: CVS Pharmacy
2025-04-02 15:48:40,512 - mcc_classifier.agent.Waki - INFO - Classifying merchant: CVS Pharmacy
2025-04-02 15:48:40,512 - mcc_classifier.agent.Waki - INFO - Sending request to GPT for merchant: CVS Pharmacy
2025-04-02 15:48:47,720 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:47,727 - mcc_classifier.agent.Rafa - INFO - Classifying merchant: Home Depot
2025-04-02 15:48:47,727 - mcc_classifier.agent.Rafa - INFO - Sending request to OpenAI for merchant: Home Depot
2025-04-02 15:48:50,769 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-02 15:48:50,770 - mcc_classifier.agent.Matheus - INFO - Classifying merchant: Home Depot
2025-04-02 15:48:50,770 - mcc_classifier.agent.Matheus - INFO - Performing tier1 classification for: Home Depot
2025-04-02 15:48:51,058 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:48:51,059 - mcc_classifier.agent.Matheus - ERROR - Error in tier1 classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:48:51,059 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: Home Depot
2025-04-02 15:48:51,059 - mcc_classifier.agent.Matheus - INFO - Performing risk tier classification for: Home Depot
2025-04-02 15:48:51,716 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:48:51,717 - mcc_classifier.agent.Matheus - ERROR - Error in risk tier classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:48:51,717 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: Home Depot
2025-04-02 15:48:51,717 - mcc_classifier.agent.Matheus - INFO - Performing tier3 classification for: Home Depot
2025-04-02 15:48:51,911 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-04-02 15:48:51,912 - mcc_classifier.agent.Matheus - ERROR - Error in tier3 classification: Error code: 400 - {'error': {'message': "Invalid parameter: 'response_format' of type 'json_schema' is not supported with this model. Learn more about supported models at the Structured Outputs guide: https://platform.openai.com/docs/guides/structured-outputs", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-04-02 15:48:51,912 - mcc_classifier.agent.Matheus - INFO - Using fallback classification for: Home Depot
2025-04-02 15:48:51,913 - mcc_classifier.agent.Waki - INFO - Classifying merchant: Home Depot
2025-04-02 15:48:51,913 - mcc_classifier.agent.Waki - INFO - Sending request to GPT for merchant: Home Depot
